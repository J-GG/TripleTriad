"use strict";define([],function(){return function(){logger.debug("Settings initialization");let e={},a=["en","fr"],l={EASY:"EASY",NORMAL:"NORMAL",HARD:"HARD"},i=window.navigator.userLanguage||window.navigator.language;if(a.includes(i)||(i=a[0]),"undefined"!=typeof Storage){let a=window.localStorage.getItem("settings");if(null!==a)try{a=JSON.parse(a),Object.assign(e,a)}catch(e){console.log(e)}logger.debug("Settings loaded from local storage")}return e.player1Name=e.player1Name?e.player1Name.substr(0,10):"Player 1",e.player2Name=e.player2Name?e.player2Name.substr(0,10):"Player 2",e.audio=!0===e.audio,e.lang=a.includes(e.lang)?e.lang:i,e.difficulty=Object.values(l).includes(e.difficulty)?e.difficulty:l.NORMAL,{save(){window.localStorage.setItem("settings",JSON.stringify(e))},enableRule(a){e[a]=!0},disableRule(a){e[a]=!1},isRuleEnabled:a=>!0===e[a],getPlayer1Name:()=>e.player1Name,setPlayer1Name(a){e.player1Name=a.substring(0,10)},getPlayer2Name:()=>e.player2Name,setPlayer2Name(a){e.player2Name=a.substring(0,10)},isAudioEnabled:()=>e.audio,enableAudio(){e.audio=!0},disableAudio(){e.audio=!1},setLanguage(l){a.includes(l)&&(e.lang=l)},getLanguage:()=>e.lang,getDifficulties:()=>l,setDifficulty(a){Object.values(l).includes(a)&&(e.difficulty=a)},getDifficulty:()=>e.difficulty}}()});