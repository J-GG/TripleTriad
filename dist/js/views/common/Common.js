"use strict";define([cardGame.gamePath+"js/toolbox/Key.js",cardGame.gamePath+"js/views/common/Sound.js"],function(e,c){return{linearChoice(i,n){function a(){let e=$(cardGame.$container.find(".select-choices__choice")[o-1]),c=e.offset().top+e.height()/2;cardGame.$container.find(".select-choices__choice").css({marginLeft:1.2*s.width()+"px"}),s.css({marginLeft:"-"+1.2*s.width()+"px"}),cardGame.$container.find(".cursor").css({top:c-s.height()/2-cardGame.$container.find(".board__game-area").offset().top,left:e.offset().left-cardGame.$container.find(".board__game-area").offset().left})}function t(){cardGame.$container.off("keydown"),cardGame.$container.find(".select-choices__choice").on("click"),$(window).off("resize",a)}let o=1,r=!0,d=cardGame.$container.find(".select-choices__choice").length;"object"==typeof i&&(o=void 0!==i.defaultChoice&&Number.isInteger(i.defaultChoice)&&i.defaultChoice>0&&i.defaultChoice<=d?i.defaultChoice:o,r=!1!==i.unbindOnEnter&&r);let s=$("<div>",{class:"cursor"});cardGame.$container.find(".board__background").append(s),a(),cardGame.$container.keydown(function(i){if(cardGame.$container.find($(document.activeElement)).length>0){switch(i.which){case e.UP:o-1>0&&(o--,c.play(c.getKeys().SELECT));break;case e.DOWN:o+1<=d&&(o++,c.play(c.getKeys().SELECT));break;case e.ENTER:r&&t()}n({unbind:t,key:i.which,choice:o}),a()}}),cardGame.$container.find(".select-choices__choice").on("click",function(){let c=$(this);cardGame.$container.find(".select-choices__choice").each(function(i){c.get(0)===$(this).get(0)&&(o=i+1,r&&t(),a(),n({unbind:t,key:e.ENTER,choice:o}))})}),$(window).resize(a)}}});