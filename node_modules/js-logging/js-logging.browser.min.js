!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.Logging=t()}(this,function(){"use strict";function e(e,t){for(e=String(e),t=t||2;e.length<t;)e="0"+e;return e}function t(e){var t=new Date(e.valueOf()),r=(e.getDay()+6)%7;t.setDate(t.getDate()-r+3);var n=t.valueOf();return t.setMonth(0,1),4!==t.getDay()&&t.setMonth(0,1+(4-t.getDay()+7)%7),1+Math.ceil((n-t)/6048e5)}function r(e){var t=new Date(e.valueOf());return t.setDate(t.getDate()-(e.getDay()+6)%7+3),t.getFullYear()}function n(e){var t=e.getDay();return 0===t&&(t=7),t}function a(e){return null===e?"null":void 0===e?"undefined":"object"!=typeof e?typeof e:Array.isArray(e)?"array":{}.toString.call(e).slice(8,-1).toLowerCase()}function i(e,t){for(let r in t)e[r]=t[r];return e}function s(e){return new Function("timestamp","title","level","message","file","line","pos","path","method","stack","return `"+e+"`;")}function o(e){function t(e,t,r,a,i,o,l){if(!(n>t)){var m={timestamp:u(new Date,e.dateformat),title:r,level:t,message:"",args:l};if(m.file=m.line=m.pos=m.path=m.method=m.stack=m.css="",i){var y=(new Error).stack.split("\n").slice(3),c=y[e.stackIndex]||y[0],h=d.exec(c)||f.exec(c);h&&5===h.length&&(m.method=h[1],m.path=h[2],m.line=h[3],m.pos=h[4],m.file=m.path.split(/[\\/]/).pop(),m.stack=y.join("\n"))}e.preprocess(m),m.message=l.join(" + ");let g=s(a);m.output=g(m.timestamp,m.title,m.level,m.message,m.file,m.line,m.pos,m.path,m.method,m.stack);for(let p=0;p<o.length;p++)if("string"==typeof o[p]?(m.output="%c"+m.output,m.css="color: "+o[p]):m.output=o[p](m.output),!m.output)return m;return e.transport.forEach(function(e){e(m)}),m}}const r={format:"${timestamp} <${title}> ${file}:${line} ${method} ${message}",dateformat:"isoDateTime",preprocess:function(e){},transport:function(e){console.log(e.output,e.css)},filters:[],level:"debug",methods:["debug","info","notice","warning","error","critical","alert","emergency"],stackIndex:0};e=i(r,e),this.getLevel=function(){return e.methods[n]},this.setLevel=function(t){if("string"==typeof t){let r=e.methods.indexOf(t);n=-1!==r?r:0}else n="number"==typeof t?Math.min(Math.max(t,0),e.methods.length):0;return a.getLevel()},this.close=function(){n=Number.MAX_VALUE};var n=0,a=this;this.setLevel(e.level),Array.isArray(e.format)||(e.format=[e.format]),Array.isArray(e.filters)||(e.filters=[e.filters]),Array.isArray(e.transport)||(e.transport=[e.transport]);let o,l=e.filters.length;l>0&&(l-=1,"[object Object]"===Object.prototype.toString.call(e.filters[l])&&(o=e.filters[l],e.filters=e.filters.slice(0,l)));for(let m=0;m<e.methods.length;m++){let y=e.methods[m];if(n>m)this[y]=function(){};else{let c=e.format[0];2===e.format.length&&e.format[1][y]&&(c=e.format[1][y]);let h,g=/\${(method|path|line|pos|file)}/i.test(c);h=o&&o[y]?Array.isArray(o[y])?o[y]:[o[y]]:e.filters,this[y]=function(...r){return t(e,m,y,c,g,h,r)}}}}function l(e){return new o(e)}function m(e){let t={filters:{debug:"Gray",info:"Black",notice:"Green",warning:"Blue",error:"Red",critical:"Orange",alert:"Cyan",emergency:"Magenta"}};return e=i(t,e),new o(e)}var u=function(){var i=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZWNVG]|"[^"]*"|'[^']*'/g,s=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,o=/[^-+\dA-Z]/g;return function(l,m,d,f){if(1!==arguments.length||"string"!==a(l)||/\d/.test(l)||(m=l,l=void 0),l=l||new Date,l instanceof Date||(l=new Date(l)),isNaN(l))throw TypeError("Invalid date");m=String(u.masks[m]||m||u.masks["default"]);var y=m.slice(0,4);("UTC:"===y||"GMT:"===y)&&(m=m.slice(4),d=!0,"GMT:"===y&&(f=!0));var c=d?"getUTC":"get",h=l[c+"Date"](),g=l[c+"Day"](),p=l[c+"Month"](),M=l[c+"FullYear"](),T=l[c+"Hours"](),v=l[c+"Minutes"](),D=l[c+"Seconds"](),A=l[c+"Milliseconds"](),b=d?0:l.getTimezoneOffset(),S={d:h,dd:e(h),ddd:u.i18n.dayNames[g],dddd:u.i18n.dayNames[g+7],m:p+1,mm:e(p+1),mmm:u.i18n.monthNames[p],mmmm:u.i18n.monthNames[p+12],yy:String(M).slice(2),yyyy:M,h:T%12||12,hh:e(T%12||12),H:T,HH:e(T),M:v,MM:e(v),s:D,ss:e(D),l:e(A,3),L:e(Math.round(A/10)),t:12>T?"a":"p",tt:12>T?"am":"pm",T:12>T?"A":"P",TT:12>T?"AM":"PM",Z:f?"GMT":d?"UTC":(String(l).match(s)||[""]).pop().replace(o,""),o:(b>0?"-":"+")+e(100*Math.floor(Math.abs(b)/60)+Math.abs(b)%60,4),S:["th","st","nd","rd"][h%10>3?0:(h%100-h%10!=10)*h%10],W:t,N:n,V:t,G:r};return m.replace(i,function(e){if(e in S){var t=S[e];if("function"==typeof t){var r=t(l);return S[e]=r,r}return t}return e.slice(1,e.length-1)})}}();u.masks={"default":"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"},u.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]};const d=/at\s+(.*)\s+\((.*):(\d*):(\d*)\)/i,f=/at\s+()(.*):(\d*):(\d*)/i;return o.console=l,o.colorConsole=m,o});